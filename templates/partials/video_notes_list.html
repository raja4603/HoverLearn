{% if notes and notes|length > 0 %}
    {% for note in notes %}
        <div id="note-{{ note.id }}" style="padding:8px; border-radius:6px; margin-bottom:8px; background:#0f0f0f; border:1px solid #222;">
            <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
                <div style="font-size:13px; color:#ddd;">
                    {% if note.timestamp %}
                        {% if note.formatted_timestamp %}
                            <a href="#" class="note-seek" data-ts="{{ note.timestamp|floatformat:2 }}" data-watch-url="{% url 'watch' note.video.id %}?t={{ note.timestamp|floatformat:2 }}" style="color:#9be7ff; cursor:pointer;" title="Jump to {{ note.formatted_timestamp }}">[{{ note.formatted_timestamp }}]</a>
                        {% else %}
                            <a href="#" class="note-seek" data-ts="{{ note.timestamp|floatformat:2 }}" data-watch-url="{% url 'watch' note.video.id %}?t={{ note.timestamp|floatformat:2 }}" style="color:#9be7ff; cursor:pointer;" title="Jump to {{ note.timestamp|floatformat:2 }}s">[{{ note.timestamp|floatformat:2 }}s]</a>
                        {% endif %}
                    {% endif %}
                    <span style="margin-left:8px;">{{ note.content|linebreaksbr }}</span>
                </div>
                <div style="display:flex; flex-direction:column; align-items:flex-end; gap:6px;">
                    <div style="font-size:11px; color:#8a8a8a;">{{ note.created_at|date:'M d, H:i' }}</div>
                    <button hx-post="{% url 'delete_note' note.id %}" hx-target="#note-{{ note.id }}" hx-swap="outerHTML" style="background:transparent; border:1px solid #444; color:#ff7b7b; padding:6px 8px; border-radius:6px; cursor:pointer;">Delete</button>
                </div>
            </div>
        </div>
    {% endfor %}
{% else %}
    <div style="color:#9a9a9a;">No notes yet â€” add one to the left.</div>
{% endif %}